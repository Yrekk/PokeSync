{"@t":"2025-11-12T13:12:17.7368931Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"30","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:12:17.7803050Z","@mt":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:12:17.8195184Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"35","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:12:17.8857036Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\r\nBEGIN\r\n    CREATE TABLE [__EFMigrationsHistory] (\r\n        [MigrationId] nvarchar(150) NOT NULL,\r\n        [ProductVersion] nvarchar(32) NOT NULL,\r\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\r\n    );\r\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:12:17.9019537Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:12:17.9032070Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:12:17.9171322Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"7","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [MigrationId], [ProductVersion]\r\nFROM [__EFMigrationsHistory]\r\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:12:17.9269846Z","@mt":"No migrations were applied. The database is already up to date.","EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:12:17.9328515Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:12:18.3697312Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"2ef632229ee63829f373f3aa4991d86b","@sp":"7e7b6b2afd62fb68","Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000003-000a-fc00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:12:18.3872943Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:12:18.3875605Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:12:18.3876428Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Git\\PokeSync\\src\\PokeSync.Api","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:12:19.0660130Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["4.2609"],"@tr":"2ef632229ee63829f373f3aa4991d86b","@sp":"7e7b6b2afd62fb68","RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":4.2609,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"00-2ef632229ee63829f373f3aa4991d86b-7e7b6b2afd62fb68-00","RequestId":"40000003-000a-fc00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:12:19.1079880Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"2ef632229ee63829f373f3aa4991d86b","@sp":"7e7b6b2afd62fb68","ElapsedMilliseconds":740.5216,"StatusCode":404,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000003-000a-fc00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:12:19.1100808Z","@mt":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","@tr":"2ef632229ee63829f373f3aa4991d86b","@sp":"7e7b6b2afd62fb68","Method":"GET","Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000003-000a-fc00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:15:57.1490962Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"c81ce1688becabf9861a129e025c771f","@sp":"266feee707d52df2","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":36,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/types","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000b-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:15:57.1670577Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"c81ce1688becabf9861a129e025c771f","@sp":"266feee707d52df2","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000b-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:15:57.1982133Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"c81ce1688becabf9861a129e025c771f","@sp":"266feee707d52df2","RouteData":"{action = \"UpsertTypes\", controller = \"InternalUpsert\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertTypes(System.Collections.Generic.IEnumerable`1[PokeSync.Api.Contracts.TypeDto], System.Threading.CancellationToken)","Controller":"PokeSync.Api.Controllers.InternalUpsertController","AssemblyName":"PokeSync.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"02365026-f057-4340-9edf-ac1951e493fa","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000b-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:15:57.2059772Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"c81ce1688becabf9861a129e025c771f","@sp":"266feee707d52df2","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","ElapsedMilliseconds":4.3469,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000b-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:15:57.2071400Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"c81ce1688becabf9861a129e025c771f","@sp":"266feee707d52df2","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000b-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:15:57.4849177Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["322.4610"],"@l":"Error","@x":"System.InvalidOperationException: Unable to resolve service for type 'PokeSync.Infrastructure.Services.UpsertService' while attempting to activate 'PokeSync.Api.Controllers.InternalUpsertController'.\r\n   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)\r\n   at lambda_method9(Closure, IServiceProvider, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at PokeSync.Api.Middleware.IdempotencyMiddleware.InvokeAsync(HttpContext context, IIdempotencyService idempotencyService) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\IdempotencyMiddleware.cs:line 31\r\n   at PokeSync.Api.Middleware.InternalTokenMiddleware.Invoke(HttpContext context) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\InternalTokenMiddleware.cs:line 39\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"c81ce1688becabf9861a129e025c771f","@sp":"266feee707d52df2","RequestMethod":"POST","RequestPath":"/internal/upsert/types","StatusCode":500,"Elapsed":322.461,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000b-0003-fd00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:15:57.5361546Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.InvalidOperationException: Unable to resolve service for type 'PokeSync.Infrastructure.Services.UpsertService' while attempting to activate 'PokeSync.Api.Controllers.InternalUpsertController'.\r\n   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)\r\n   at lambda_method9(Closure, IServiceProvider, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at PokeSync.Api.Middleware.IdempotencyMiddleware.InvokeAsync(HttpContext context, IIdempotencyService idempotencyService) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\IdempotencyMiddleware.cs:line 31\r\n   at PokeSync.Api.Middleware.InternalTokenMiddleware.Invoke(HttpContext context) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\InternalTokenMiddleware.cs:line 39\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at PokeSync.Api.Middleware.CorrelationIdMiddleware.Invoke(HttpContext context) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\CorrelationIdMiddleware.cs:line 28\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"c81ce1688becabf9861a129e025c771f","@sp":"266feee707d52df2","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"4000000b-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:16:21.8847751Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"c81ce1688becabf9861a129e025c771f","@sp":"266feee707d52df2","ElapsedMilliseconds":24735.6773,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/types","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000b-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:16:48.7495699Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"123e5c0321af5f15910b0fc27b4bd9b2","@sp":"2f2b70ebcc968200","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":36,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/types","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000c-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:16:48.7554469Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"123e5c0321af5f15910b0fc27b4bd9b2","@sp":"2f2b70ebcc968200","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:16:48.7557825Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"123e5c0321af5f15910b0fc27b4bd9b2","@sp":"2f2b70ebcc968200","RouteData":"{action = \"UpsertTypes\", controller = \"InternalUpsert\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertTypes(System.Collections.Generic.IEnumerable`1[PokeSync.Api.Contracts.TypeDto], System.Threading.CancellationToken)","Controller":"PokeSync.Api.Controllers.InternalUpsertController","AssemblyName":"PokeSync.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"02365026-f057-4340-9edf-ac1951e493fa","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:16:48.7565495Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"123e5c0321af5f15910b0fc27b4bd9b2","@sp":"2f2b70ebcc968200","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","ElapsedMilliseconds":0.5625,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:16:48.7570168Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"123e5c0321af5f15910b0fc27b4bd9b2","@sp":"2f2b70ebcc968200","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:16:48.7895017Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["36.5642"],"@l":"Error","@x":"System.InvalidOperationException: Unable to resolve service for type 'PokeSync.Infrastructure.Services.UpsertService' while attempting to activate 'PokeSync.Api.Controllers.InternalUpsertController'.\r\n   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)\r\n   at lambda_method9(Closure, IServiceProvider, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at PokeSync.Api.Middleware.IdempotencyMiddleware.InvokeAsync(HttpContext context, IIdempotencyService idempotencyService) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\IdempotencyMiddleware.cs:line 35\r\n   at PokeSync.Api.Middleware.InternalTokenMiddleware.Invoke(HttpContext context) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\InternalTokenMiddleware.cs:line 39\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"123e5c0321af5f15910b0fc27b4bd9b2","@sp":"2f2b70ebcc968200","RequestMethod":"POST","RequestPath":"/internal/upsert/types","StatusCode":500,"Elapsed":36.5642,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0003-fd00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:16:48.8314271Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.InvalidOperationException: Unable to resolve service for type 'PokeSync.Infrastructure.Services.UpsertService' while attempting to activate 'PokeSync.Api.Controllers.InternalUpsertController'.\r\n   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)\r\n   at lambda_method9(Closure, IServiceProvider, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at PokeSync.Api.Middleware.IdempotencyMiddleware.InvokeAsync(HttpContext context, IIdempotencyService idempotencyService) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\IdempotencyMiddleware.cs:line 35\r\n   at PokeSync.Api.Middleware.InternalTokenMiddleware.Invoke(HttpContext context) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\InternalTokenMiddleware.cs:line 39\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at PokeSync.Api.Middleware.CorrelationIdMiddleware.Invoke(HttpContext context) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\CorrelationIdMiddleware.cs:line 28\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"123e5c0321af5f15910b0fc27b4bd9b2","@sp":"2f2b70ebcc968200","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"4000000c-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:16:53.3446370Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"123e5c0321af5f15910b0fc27b4bd9b2","@sp":"2f2b70ebcc968200","ElapsedMilliseconds":4595.05,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/types","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000c-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.2384921Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"33","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.2857569Z","@mt":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.3095962Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"20","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.4341884Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\r\nBEGIN\r\n    CREATE TABLE [__EFMigrationsHistory] (\r\n        [MigrationId] nvarchar(150) NOT NULL,\r\n        [ProductVersion] nvarchar(32) NOT NULL,\r\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\r\n    );\r\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.4499305Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.4510077Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.4562416Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [MigrationId], [ProductVersion]\r\nFROM [__EFMigrationsHistory]\r\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.4658320Z","@mt":"No migrations were applied. The database is already up to date.","EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.4683281Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.6655125Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"dff91175f824081ea3e67c20295f8e50","@sp":"4524b8b52d14fdf3","Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000007-0008-fc00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.6958465Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.6960424Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.6961010Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Git\\PokeSync\\src\\PokeSync.Api","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.7621058Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["4.3230"],"@tr":"dff91175f824081ea3e67c20295f8e50","@sp":"4524b8b52d14fdf3","RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":4.323,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"00-dff91175f824081ea3e67c20295f8e50-4524b8b52d14fdf3-00","RequestId":"40000007-0008-fc00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.7879628Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"dff91175f824081ea3e67c20295f8e50","@sp":"4524b8b52d14fdf3","ElapsedMilliseconds":123.7649,"StatusCode":404,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000007-0008-fc00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:02.7902238Z","@mt":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","@tr":"dff91175f824081ea3e67c20295f8e50","@sp":"4524b8b52d14fdf3","Method":"GET","Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000007-0008-fc00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:06.6095960Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"914490ac025da9fe1d58740e87bc609c","@sp":"84737b69a91f86dc","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":36,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/types","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000010-0006-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:06.6201041Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"914490ac025da9fe1d58740e87bc609c","@sp":"84737b69a91f86dc","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000010-0006-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:06.6448929Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"914490ac025da9fe1d58740e87bc609c","@sp":"84737b69a91f86dc","RouteData":"{action = \"UpsertTypes\", controller = \"InternalUpsert\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertTypes(System.Collections.Generic.IEnumerable`1[PokeSync.Api.Contracts.TypeDto], System.Threading.CancellationToken)","Controller":"PokeSync.Api.Controllers.InternalUpsertController","AssemblyName":"PokeSync.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26b7cc66-22cf-4ab5-9d11-88b6e407ef06","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000010-0006-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:06.6501664Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"914490ac025da9fe1d58740e87bc609c","@sp":"84737b69a91f86dc","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","ElapsedMilliseconds":2.2011,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000010-0006-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:06.6509423Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"914490ac025da9fe1d58740e87bc609c","@sp":"84737b69a91f86dc","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000010-0006-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:06.7266579Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["110.2606"],"@l":"Error","@x":"System.InvalidOperationException: Unable to resolve service for type 'PokeSync.Infrastructure.Services.UpsertService' while attempting to activate 'PokeSync.Api.Controllers.InternalUpsertController'.\r\n   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)\r\n   at lambda_method9(Closure, IServiceProvider, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at PokeSync.Api.Middleware.IdempotencyMiddleware.InvokeAsync(HttpContext context, IIdempotencyService idempotencyService) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\IdempotencyMiddleware.cs:line 35\r\n   at PokeSync.Api.Middleware.InternalTokenMiddleware.Invoke(HttpContext context) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\InternalTokenMiddleware.cs:line 39\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"914490ac025da9fe1d58740e87bc609c","@sp":"84737b69a91f86dc","RequestMethod":"POST","RequestPath":"/internal/upsert/types","StatusCode":500,"Elapsed":110.2606,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000010-0006-fd00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:06.7754547Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.InvalidOperationException: Unable to resolve service for type 'PokeSync.Infrastructure.Services.UpsertService' while attempting to activate 'PokeSync.Api.Controllers.InternalUpsertController'.\r\n   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)\r\n   at lambda_method9(Closure, IServiceProvider, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at PokeSync.Api.Middleware.IdempotencyMiddleware.InvokeAsync(HttpContext context, IIdempotencyService idempotencyService) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\IdempotencyMiddleware.cs:line 35\r\n   at PokeSync.Api.Middleware.InternalTokenMiddleware.Invoke(HttpContext context) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\InternalTokenMiddleware.cs:line 39\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at PokeSync.Api.Middleware.CorrelationIdMiddleware.Invoke(HttpContext context) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\CorrelationIdMiddleware.cs:line 28\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"914490ac025da9fe1d58740e87bc609c","@sp":"84737b69a91f86dc","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"40000010-0006-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.4724743Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"25","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.5128634Z","@mt":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.5352822Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"19","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.6077179Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"5","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\r\nBEGIN\r\n    CREATE TABLE [__EFMigrationsHistory] (\r\n        [MigrationId] nvarchar(150) NOT NULL,\r\n        [ProductVersion] nvarchar(32) NOT NULL,\r\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\r\n    );\r\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.6235771Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.6251180Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.6329111Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [MigrationId], [ProductVersion]\r\nFROM [__EFMigrationsHistory]\r\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.6426551Z","@mt":"No migrations were applied. The database is already up to date.","EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.6454308Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.8587105Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"be02f2b31e139e7198f8155026b59e71","@sp":"328dacfa404fab38","Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000008-0009-fa00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.8896101Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.8898676Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.8899522Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Git\\PokeSync\\src\\PokeSync.Api","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.9588380Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["4.1404"],"@tr":"be02f2b31e139e7198f8155026b59e71","@sp":"328dacfa404fab38","RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":4.1404,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"00-be02f2b31e139e7198f8155026b59e71-328dacfa404fab38-00","RequestId":"40000008-0009-fa00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.9857111Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"be02f2b31e139e7198f8155026b59e71","@sp":"328dacfa404fab38","ElapsedMilliseconds":128.7369,"StatusCode":404,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000008-0009-fa00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:20:44.9873675Z","@mt":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","@tr":"be02f2b31e139e7198f8155026b59e71","@sp":"328dacfa404fab38","Method":"GET","Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000008-0009-fa00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:21:23.3620282Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"5efe7a359796a050a80edf70de1c85a2","@sp":"da2ae5cb97393707","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":36,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/types","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000005-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:21:23.4191731Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"5efe7a359796a050a80edf70de1c85a2","@sp":"da2ae5cb97393707","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000005-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:21:23.4442391Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"5efe7a359796a050a80edf70de1c85a2","@sp":"da2ae5cb97393707","RouteData":"{action = \"UpsertTypes\", controller = \"InternalUpsert\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertTypes(System.Collections.Generic.IEnumerable`1[PokeSync.Api.Contracts.TypeDto], System.Threading.CancellationToken)","Controller":"PokeSync.Api.Controllers.InternalUpsertController","AssemblyName":"PokeSync.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2afbcc0c-c608-454f-b674-4279ca74c9b1","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000005-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:21:23.8475146Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"5efe7a359796a050a80edf70de1c85a2","@sp":"da2ae5cb97393707","elapsed":"22","parameters":"@__incomingKeys_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [e].[Name]\r\nFROM [ElementType] AS [e]\r\nWHERE [e].[Name] IN (\r\n    SELECT [i].[value]\r\n    FROM OPENJSON(@__incomingKeys_0) WITH ([value] nvarchar(50) '$') AS [i]\r\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2afbcc0c-c608-454f-b674-4279ca74c9b1","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000005-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:21:23.9854291Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"5efe7a359796a050a80edf70de1c85a2","@sp":"da2ae5cb97393707","elapsed":"2","parameters":"@p0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [ElementType] ([Name])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2afbcc0c-c608-454f-b674-4279ca74c9b1","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000005-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:21:24.0079567Z","@mt":"Upsert Types processed. Inserted={Inserted}, Skipped={Skipped}","@tr":"5efe7a359796a050a80edf70de1c85a2","@sp":"da2ae5cb97393707","Inserted":1,"Skipped":1,"SourceContext":"PokeSync.Api.Controllers.InternalUpsertController","ActionId":"2afbcc0c-c608-454f-b674-4279ca74c9b1","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000005-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:21:24.0151245Z","@mt":"Executing {ObjectResultType}, writing value of type '{Type}'.","@tr":"5efe7a359796a050a80edf70de1c85a2","@sp":"da2ae5cb97393707","ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType0`2[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2afbcc0c-c608-454f-b674-4279ca74c9b1","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000005-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:21:24.0259841Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"5efe7a359796a050a80edf70de1c85a2","@sp":"da2ae5cb97393707","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","ElapsedMilliseconds":578.3576,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000005-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:21:24.0266814Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"5efe7a359796a050a80edf70de1c85a2","@sp":"da2ae5cb97393707","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertTypes (PokeSync.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000005-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:21:24.0271731Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["653.8114"],"@tr":"5efe7a359796a050a80edf70de1c85a2","@sp":"da2ae5cb97393707","RequestMethod":"POST","RequestPath":"/internal/upsert/types","StatusCode":200,"Elapsed":653.8114,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000005-000a-fc00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:21:24.0310619Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"5efe7a359796a050a80edf70de1c85a2","@sp":"da2ae5cb97393707","ElapsedMilliseconds":669.0509,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/types","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000005-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/types","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:24:39.6570781Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"35e410234d5781db10cb4bbe4a6fb854","@sp":"73626ad33591c795","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":76,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/generations","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000006-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:24:39.6615949Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"35e410234d5781db10cb4bbe4a6fb854","@sp":"73626ad33591c795","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000006-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:24:39.6674233Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"35e410234d5781db10cb4bbe4a6fb854","@sp":"73626ad33591c795","RouteData":"{action = \"UpsertGenerations\", controller = \"InternalUpsert\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertGenerations(System.Collections.Generic.IEnumerable`1[PokeSync.Api.Contracts.GenerationDto], System.Threading.CancellationToken)","Controller":"PokeSync.Api.Controllers.InternalUpsertController","AssemblyName":"PokeSync.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b6cb1fc0-c278-4538-8399-83c33827c0d8","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000006-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:24:39.8023448Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"35e410234d5781db10cb4bbe4a6fb854","@sp":"73626ad33591c795","elapsed":"3","parameters":"@__incomingKeys_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Number]\r\nFROM [Generation] AS [g]\r\nWHERE [g].[Number] IN (\r\n    SELECT [i].[value]\r\n    FROM OPENJSON(@__incomingKeys_0) WITH ([value] int '$') AS [i]\r\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b6cb1fc0-c278-4538-8399-83c33827c0d8","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000006-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:24:39.8267477Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"35e410234d5781db10cb4bbe4a6fb854","@sp":"73626ad33591c795","elapsed":"5","parameters":"@p0='?' (Size = 50), @p1='?' (DbType = Int32), @p2='?' (Size = 50), @p3='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nMERGE [Generation] USING (\r\nVALUES (@p0, @p1, 0),\r\n(@p2, @p3, 1)) AS i ([Name], [Number], _Position) ON 1=0\r\nWHEN NOT MATCHED THEN\r\nINSERT ([Name], [Number])\r\nVALUES (i.[Name], i.[Number])\r\nOUTPUT INSERTED.[Id], i._Position;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b6cb1fc0-c278-4538-8399-83c33827c0d8","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000006-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:24:39.8671324Z","@mt":"Upsert Generations processed. Inserted={Inserted}, Skipped={Skipped}","@tr":"35e410234d5781db10cb4bbe4a6fb854","@sp":"73626ad33591c795","SourceContext":"PokeSync.Api.Controllers.InternalUpsertController","ActionId":"b6cb1fc0-c278-4538-8399-83c33827c0d8","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000006-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:24:39.8676763Z","@mt":"Executing {ObjectResultType}, writing value of type '{Type}'.","@tr":"35e410234d5781db10cb4bbe4a6fb854","@sp":"73626ad33591c795","ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType0`2[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b6cb1fc0-c278-4538-8399-83c33827c0d8","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000006-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:24:39.8683343Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"35e410234d5781db10cb4bbe4a6fb854","@sp":"73626ad33591c795","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","ElapsedMilliseconds":200.6295,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000006-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:24:39.8685142Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"35e410234d5781db10cb4bbe4a6fb854","@sp":"73626ad33591c795","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000006-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:24:39.8687045Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["209.0213"],"@tr":"35e410234d5781db10cb4bbe4a6fb854","@sp":"73626ad33591c795","RequestMethod":"POST","RequestPath":"/internal/upsert/generations","StatusCode":200,"Elapsed":209.0213,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000006-0002-fb00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:24:39.8692841Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"35e410234d5781db10cb4bbe4a6fb854","@sp":"73626ad33591c795","ElapsedMilliseconds":212.2297,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/generations","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000006-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:22.9031156Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":710,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:23.0883391Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","elapsed":"5","parameters":"@__key_0='?' (Size = 128)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [i].[Id], [i].[CreatedUtc], [i].[ExternalKey], [i].[PayloadHash], [i].[ResponseBody]\r\nFROM [IdempotencyKey] AS [i]\r\nWHERE [i].[ExternalKey] = @__key_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:23.0899965Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:23.0944862Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","RouteData":"{action = \"UpsertPokemons\", controller = \"InternalUpsert\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertPokemons(System.Collections.Generic.List`1[PokeSync.Api.Contracts.Upsert.PokemonUpsertItemDto], PokeSync.Infrastructure.Interfaces.IPokemonUpsertService, System.Threading.CancellationToken)","Controller":"PokeSync.Api.Controllers.InternalUpsertController","AssemblyName":"PokeSync.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"18037397-4301-4715-9be4-a0bd0c61af87","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:23.1444894Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Id], [g].[Name], [g].[Number]\r\nFROM [Generation] AS [g]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"18037397-4301-4715-9be4-a0bd0c61af87","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:23.1835164Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [e].[Id], [e].[Name]\r\nFROM [ElementType] AS [e]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"18037397-4301-4715-9be4-a0bd0c61af87","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:23.2594271Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"18037397-4301-4715-9be4-a0bd0c61af87","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:23.2869656Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","elapsed":"4","parameters":"@__extId_0='?' (Size = 32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p3].[Id], [p3].[ExternalId], [p3].[GenerationId], [p3].[Height], [p3].[Name], [p3].[Number], [p3].[SpriteUrl], [p3].[Weight], [p0].[PokemonId], [p0].[TypeId], [p1].[Id], [p1].[BaseValue], [p1].[PokemonId], [p1].[StatName], [p2].[Id], [p2].[Language], [p2].[PokemonId], [p2].[Text]\r\nFROM (\r\n    SELECT TOP(1) [p].[Id], [p].[ExternalId], [p].[GenerationId], [p].[Height], [p].[Name], [p].[Number], [p].[SpriteUrl], [p].[Weight]\r\n    FROM [Pokemon] AS [p]\r\n    WHERE [p].[ExternalId] = @__extId_0\r\n) AS [p3]\r\nLEFT JOIN [PokemonType] AS [p0] ON [p3].[Id] = [p0].[PokemonId]\r\nLEFT JOIN [PokemonStat] AS [p1] ON [p3].[Id] = [p1].[PokemonId]\r\nLEFT JOIN [PokemonFlavor] AS [p2] ON [p3].[Id] = [p2].[PokemonId]\r\nORDER BY [p3].[Id], [p0].[PokemonId], [p0].[TypeId], [p1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"18037397-4301-4715-9be4-a0bd0c61af87","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:23.3651120Z","@mt":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","@l":"Warning","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"18037397-4301-4715-9be4-a0bd0c61af87","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:23.3746588Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","elapsed":"8","parameters":"@p0='?' (Size = 32), @p1='?' (DbType = Int32), @p2='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p3='?' (Size = 100), @p4='?' (DbType = Int32), @p5='?' (Size = 512), @p6='?' (Precision = 7) (Scale = 2) (DbType = Decimal)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Pokemon] ([ExternalId], [GenerationId], [Height], [Name], [Number], [SpriteUrl], [Weight])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"18037397-4301-4715-9be4-a0bd0c61af87","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:23.3978935Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","elapsed":"11","parameters":"@p7='?' (Size = 8), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (Size = 32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (Size = 32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (Size = 32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (Size = 32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Size = 32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [PokemonFlavor] ([Language], [PokemonId], [Text])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p7, @p8, @p9);\r\nMERGE [PokemonStat] USING (\r\nVALUES (@p10, @p11, @p12, 0),\r\n(@p13, @p14, @p15, 1),\r\n(@p16, @p17, @p18, 2),\r\n(@p19, @p20, @p21, 3),\r\n(@p22, @p23, @p24, 4),\r\n(@p25, @p26, @p27, 5)) AS i ([BaseValue], [PokemonId], [StatName], _Position) ON 1=0\r\nWHEN NOT MATCHED THEN\r\nINSERT ([BaseValue], [PokemonId], [StatName])\r\nVALUES (i.[BaseValue], i.[PokemonId], i.[StatName])\r\nOUTPUT INSERTED.[Id], i._Position;\r\nINSERT INTO [PokemonType] ([PokemonId], [TypeId])\r\nVALUES (@p28, @p29),\r\n(@p30, @p31);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"18037397-4301-4715-9be4-a0bd0c61af87","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:23.4057870Z","@mt":"An error occurred using a transaction.","@l":"Error","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","EventId":{"Id":20205,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.TransactionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"18037397-4301-4715-9be4-a0bd0c61af87","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:23.4437427Z","@mt":"An error occurred using a transaction.","@l":"Error","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","EventId":{"Id":20205,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.TransactionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"18037397-4301-4715-9be4-a0bd0c61af87","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:36.1523769Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","ElapsedMilliseconds":13057.7426,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:36.1528556Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:36.3256231Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["13422.2061"],"@l":"Error","@x":"System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.\r\n   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()\r\n   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()\r\n   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)\r\n   at PokeSync.Infrastructure.Services.PokemonUpsertService.UpsertPokemonsAsync(IReadOnlyList`1 batch, CancellationToken ct) in C:\\Git\\PokeSync\\src\\PokeSync.Infrastructure\\Services\\PokemonUpsertService .cs:line 194\r\n   at PokeSync.Infrastructure.Services.PokemonUpsertService.UpsertPokemonsAsync(IReadOnlyList`1 batch, CancellationToken ct) in C:\\Git\\PokeSync\\src\\PokeSync.Infrastructure\\Services\\PokemonUpsertService .cs:line 196\r\n   at PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons(List`1 batchDto, IPokemonUpsertService service, CancellationToken ct) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Controllers\\InternalUpsertController.cs:line 89\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at PokeSync.Api.Middleware.IdempotencyMiddleware.InvokeAsync(HttpContext context, IIdempotencyService idempotencyService) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\IdempotencyMiddleware.cs:line 85\r\n   at PokeSync.Api.Middleware.IdempotencyMiddleware.InvokeAsync(HttpContext context, IIdempotencyService idempotencyService) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\IdempotencyMiddleware.cs:line 105\r\n   at PokeSync.Api.Middleware.InternalTokenMiddleware.Invoke(HttpContext context) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\InternalTokenMiddleware.cs:line 39\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","RequestMethod":"POST","RequestPath":"/internal/upsert/pokemons","StatusCode":500,"Elapsed":13422.2061,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:36.5686065Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.InvalidOperationException: This SqlTransaction has completed; it is no longer usable.\r\n   at Microsoft.Data.SqlClient.SqlTransaction.ZombieCheck()\r\n   at Microsoft.Data.SqlClient.SqlTransaction.Rollback()\r\n   at System.Data.Common.DbTransaction.RollbackAsync(CancellationToken cancellationToken)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.RollbackAsync(CancellationToken cancellationToken)\r\n   at PokeSync.Infrastructure.Services.PokemonUpsertService.UpsertPokemonsAsync(IReadOnlyList`1 batch, CancellationToken ct) in C:\\Git\\PokeSync\\src\\PokeSync.Infrastructure\\Services\\PokemonUpsertService .cs:line 194\r\n   at PokeSync.Infrastructure.Services.PokemonUpsertService.UpsertPokemonsAsync(IReadOnlyList`1 batch, CancellationToken ct) in C:\\Git\\PokeSync\\src\\PokeSync.Infrastructure\\Services\\PokemonUpsertService .cs:line 196\r\n   at PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons(List`1 batchDto, IPokemonUpsertService service, CancellationToken ct) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Controllers\\InternalUpsertController.cs:line 89\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at PokeSync.Api.Middleware.IdempotencyMiddleware.InvokeAsync(HttpContext context, IIdempotencyService idempotencyService) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\IdempotencyMiddleware.cs:line 85\r\n   at PokeSync.Api.Middleware.IdempotencyMiddleware.InvokeAsync(HttpContext context, IIdempotencyService idempotencyService) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\IdempotencyMiddleware.cs:line 105\r\n   at PokeSync.Api.Middleware.InternalTokenMiddleware.Invoke(HttpContext context) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\InternalTokenMiddleware.cs:line 39\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at PokeSync.Api.Middleware.CorrelationIdMiddleware.Invoke(HttpContext context) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\CorrelationIdMiddleware.cs:line 28\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:25:39.9302839Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"a863bce8c6faecc3e429e9f05a3a3e10","@sp":"dd7000ebc074f933","ElapsedMilliseconds":17027.1602,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000007-0002-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:27:48.1372843Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"18699c067e4bfa8bf66f36c94eae0f86","@sp":"2044fc16360a600c","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":36,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/generations","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000021-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:27:48.1380708Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"18699c067e4bfa8bf66f36c94eae0f86","@sp":"2044fc16360a600c","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000021-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:27:48.1382523Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"18699c067e4bfa8bf66f36c94eae0f86","@sp":"2044fc16360a600c","RouteData":"{action = \"UpsertGenerations\", controller = \"InternalUpsert\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertGenerations(System.Collections.Generic.IEnumerable`1[PokeSync.Api.Contracts.GenerationDto], System.Threading.CancellationToken)","Controller":"PokeSync.Api.Controllers.InternalUpsertController","AssemblyName":"PokeSync.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b6cb1fc0-c278-4538-8399-83c33827c0d8","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000021-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:27:48.1405141Z","@mt":"Upsert Generations processed. Inserted={Inserted}, Skipped={Skipped}","@tr":"18699c067e4bfa8bf66f36c94eae0f86","@sp":"2044fc16360a600c","SourceContext":"PokeSync.Api.Controllers.InternalUpsertController","ActionId":"b6cb1fc0-c278-4538-8399-83c33827c0d8","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000021-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:27:48.1408493Z","@mt":"Executing {ObjectResultType}, writing value of type '{Type}'.","@tr":"18699c067e4bfa8bf66f36c94eae0f86","@sp":"2044fc16360a600c","ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType0`2[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b6cb1fc0-c278-4538-8399-83c33827c0d8","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000021-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:27:48.1412298Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"18699c067e4bfa8bf66f36c94eae0f86","@sp":"2044fc16360a600c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","ElapsedMilliseconds":2.8863,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000021-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:27:48.1412950Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"18699c067e4bfa8bf66f36c94eae0f86","@sp":"2044fc16360a600c","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000021-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:27:48.1413339Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["3.7357"],"@tr":"18699c067e4bfa8bf66f36c94eae0f86","@sp":"2044fc16360a600c","RequestMethod":"POST","RequestPath":"/internal/upsert/generations","StatusCode":200,"Elapsed":3.7357,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000021-0000-fe00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:27:48.1415701Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"18699c067e4bfa8bf66f36c94eae0f86","@sp":"2044fc16360a600c","ElapsedMilliseconds":4.2615,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/generations","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000021-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:29:20.0345702Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"4dc462545cbed75e59b4205988a427d9","@sp":"ddcf8da25e5b611a","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":79,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/generations","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000022-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:29:20.0350534Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"4dc462545cbed75e59b4205988a427d9","@sp":"ddcf8da25e5b611a","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000022-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:29:20.0352963Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"4dc462545cbed75e59b4205988a427d9","@sp":"ddcf8da25e5b611a","RouteData":"{action = \"UpsertGenerations\", controller = \"InternalUpsert\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertGenerations(System.Collections.Generic.IEnumerable`1[PokeSync.Api.Contracts.GenerationDto], System.Threading.CancellationToken)","Controller":"PokeSync.Api.Controllers.InternalUpsertController","AssemblyName":"PokeSync.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b6cb1fc0-c278-4538-8399-83c33827c0d8","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000022-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:29:20.0488754Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"4dc462545cbed75e59b4205988a427d9","@sp":"ddcf8da25e5b611a","elapsed":"5","parameters":"@__incomingKeys_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Number]\r\nFROM [Generation] AS [g]\r\nWHERE [g].[Number] IN (\r\n    SELECT [i].[value]\r\n    FROM OPENJSON(@__incomingKeys_0) WITH ([value] int '$') AS [i]\r\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b6cb1fc0-c278-4538-8399-83c33827c0d8","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000022-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:29:20.0495948Z","@mt":"Upsert Generations processed. Inserted={Inserted}, Skipped={Skipped}","@tr":"4dc462545cbed75e59b4205988a427d9","@sp":"ddcf8da25e5b611a","SourceContext":"PokeSync.Api.Controllers.InternalUpsertController","ActionId":"b6cb1fc0-c278-4538-8399-83c33827c0d8","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000022-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:29:20.0497735Z","@mt":"Executing {ObjectResultType}, writing value of type '{Type}'.","@tr":"4dc462545cbed75e59b4205988a427d9","@sp":"ddcf8da25e5b611a","ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType0`2[[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b6cb1fc0-c278-4538-8399-83c33827c0d8","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000022-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:29:20.0501863Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"4dc462545cbed75e59b4205988a427d9","@sp":"ddcf8da25e5b611a","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","ElapsedMilliseconds":14.7603,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000022-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:29:20.0502830Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"4dc462545cbed75e59b4205988a427d9","@sp":"ddcf8da25e5b611a","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertGenerations (PokeSync.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000022-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:29:20.0503562Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["15.5119"],"@tr":"4dc462545cbed75e59b4205988a427d9","@sp":"ddcf8da25e5b611a","RequestMethod":"POST","RequestPath":"/internal/upsert/generations","StatusCode":200,"Elapsed":15.5119,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000022-0000-fe00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:29:20.0506080Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"4dc462545cbed75e59b4205988a427d9","@sp":"ddcf8da25e5b611a","ElapsedMilliseconds":16.0523,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/generations","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000022-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/generations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.2637331Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"26","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.3055720Z","@mt":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.3288217Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"20","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.3986981Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\r\nBEGIN\r\n    CREATE TABLE [__EFMigrationsHistory] (\r\n        [MigrationId] nvarchar(150) NOT NULL,\r\n        [ProductVersion] nvarchar(32) NOT NULL,\r\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\r\n    );\r\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.4146556Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.4158884Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.4225022Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [MigrationId], [ProductVersion]\r\nFROM [__EFMigrationsHistory]\r\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.4323695Z","@mt":"No migrations were applied. The database is already up to date.","EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.4350040Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.6830284Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"661aee38de8dcef4d46e40412f26a1f6","@sp":"5301c82860ac3a40","Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000d-0007-fe00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.7093356Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.7094953Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.7095540Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Git\\PokeSync\\src\\PokeSync.Api","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.7764648Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["3.9271"],"@tr":"661aee38de8dcef4d46e40412f26a1f6","@sp":"5301c82860ac3a40","RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":3.9271,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"00-661aee38de8dcef4d46e40412f26a1f6-5301c82860ac3a40-00","RequestId":"4000000d-0007-fe00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.8021538Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"661aee38de8dcef4d46e40412f26a1f6","@sp":"5301c82860ac3a40","ElapsedMilliseconds":120.1713,"StatusCode":404,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000d-0007-fe00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:30:15.8043292Z","@mt":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","@tr":"661aee38de8dcef4d46e40412f26a1f6","@sp":"5301c82860ac3a40","Method":"GET","Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000d-0007-fe00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:33.9658823Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"27","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:34.0074850Z","@mt":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:34.0303878Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"19","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:34.1001915Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\r\nBEGIN\r\n    CREATE TABLE [__EFMigrationsHistory] (\r\n        [MigrationId] nvarchar(150) NOT NULL,\r\n        [ProductVersion] nvarchar(32) NOT NULL,\r\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\r\n    );\r\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:34.1170871Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:34.1183300Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:34.1253739Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [MigrationId], [ProductVersion]\r\nFROM [__EFMigrationsHistory]\r\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:34.1355470Z","@mt":"No migrations were applied. The database is already up to date.","EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:34.1381178Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:34.3400605Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"684b5f9d3b61c8bb022ba8c36e27fb08","@sp":"0b992a6a775e783d","Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000007-000b-fc00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:34.3692454Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:34.3694143Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:34.3695180Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Git\\PokeSync\\src\\PokeSync.Api","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:34.4403189Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["4.3670"],"@tr":"684b5f9d3b61c8bb022ba8c36e27fb08","@sp":"0b992a6a775e783d","RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":4.367,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"00-684b5f9d3b61c8bb022ba8c36e27fb08-0b992a6a775e783d-00","RequestId":"40000007-000b-fc00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:34.4691420Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"684b5f9d3b61c8bb022ba8c36e27fb08","@sp":"0b992a6a775e783d","ElapsedMilliseconds":130.3834,"StatusCode":404,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000007-000b-fc00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:33:34.4712570Z","@mt":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","@tr":"684b5f9d3b61c8bb022ba8c36e27fb08","@sp":"0b992a6a775e783d","Method":"GET","Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000007-000b-fc00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.0998898Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":710,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.4099794Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","elapsed":"12","parameters":"@__key_0='?' (Size = 128)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [i].[Id], [i].[CreatedUtc], [i].[ExternalKey], [i].[PayloadHash], [i].[ResponseBody]\r\nFROM [IdempotencyKey] AS [i]\r\nWHERE [i].[ExternalKey] = @__key_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.4169187Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.4351019Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","RouteData":"{action = \"UpsertPokemons\", controller = \"InternalUpsert\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertPokemons(System.Collections.Generic.List`1[PokeSync.Api.Contracts.Upsert.PokemonUpsertItemDto], PokeSync.Infrastructure.Interfaces.IPokemonUpsertService, System.Threading.CancellationToken)","Controller":"PokeSync.Api.Controllers.InternalUpsertController","AssemblyName":"PokeSync.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.5074540Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Id], [g].[Name], [g].[Number]\r\nFROM [Generation] AS [g]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.5174159Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [e].[Id], [e].[Name]\r\nFROM [ElementType] AS [e]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.5977392Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.6236561Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","elapsed":"0","parameters":"@__extId_0='?' (Size = 32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p3].[Id], [p3].[ExternalId], [p3].[GenerationId], [p3].[Height], [p3].[Name], [p3].[Number], [p3].[SpriteUrl], [p3].[Weight], [p0].[PokemonId], [p0].[TypeId], [p1].[Id], [p1].[BaseValue], [p1].[PokemonId], [p1].[StatName], [p2].[Id], [p2].[Language], [p2].[PokemonId], [p2].[Text]\r\nFROM (\r\n    SELECT TOP(1) [p].[Id], [p].[ExternalId], [p].[GenerationId], [p].[Height], [p].[Name], [p].[Number], [p].[SpriteUrl], [p].[Weight]\r\n    FROM [Pokemon] AS [p]\r\n    WHERE [p].[ExternalId] = @__extId_0\r\n) AS [p3]\r\nLEFT JOIN [PokemonType] AS [p0] ON [p3].[Id] = [p0].[PokemonId]\r\nLEFT JOIN [PokemonStat] AS [p1] ON [p3].[Id] = [p1].[PokemonId]\r\nLEFT JOIN [PokemonFlavor] AS [p2] ON [p3].[Id] = [p2].[PokemonId]\r\nORDER BY [p3].[Id], [p0].[PokemonId], [p0].[TypeId], [p1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.8238780Z","@mt":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","@l":"Warning","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.8284171Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","elapsed":"2","parameters":"@p0='?' (Size = 32), @p1='?' (DbType = Int32), @p2='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p3='?' (Size = 100), @p4='?' (DbType = Int32), @p5='?' (Size = 512), @p6='?' (Precision = 7) (Scale = 2) (DbType = Decimal)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Pokemon] ([ExternalId], [GenerationId], [Height], [Name], [Number], [SpriteUrl], [Weight])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.8546362Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","elapsed":"1","parameters":"@p7='?' (Size = 8), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (Size = 32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (Size = 32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (Size = 32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (Size = 32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Size = 32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [PokemonFlavor] ([Language], [PokemonId], [Text])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p7, @p8, @p9);\r\nMERGE [PokemonStat] USING (\r\nVALUES (@p10, @p11, @p12, 0),\r\n(@p13, @p14, @p15, 1),\r\n(@p16, @p17, @p18, 2),\r\n(@p19, @p20, @p21, 3),\r\n(@p22, @p23, @p24, 4),\r\n(@p25, @p26, @p27, 5)) AS i ([BaseValue], [PokemonId], [StatName], _Position) ON 1=0\r\nWHEN NOT MATCHED THEN\r\nINSERT ([BaseValue], [PokemonId], [StatName])\r\nVALUES (i.[BaseValue], i.[PokemonId], i.[StatName])\r\nOUTPUT INSERTED.[Id], i._Position;\r\nINSERT INTO [PokemonType] ([PokemonId], [TypeId])\r\nVALUES (@p28, @p29),\r\n(@p30, @p31);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.8964259Z","@mt":"An error occurred using a transaction.","@l":"Error","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","EventId":{"Id":20205,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.TransactionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.9324418Z","@mt":"An error occurred using a transaction.","@l":"Error","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","EventId":{"Id":20205,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.TransactionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.9589691Z","@mt":"Executing {ObjectResultType}, writing value of type '{Type}'.","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","ObjectResultType":"ObjectResult","Type":"PokeSync.Infrastructure.Data.Models.UpsertBatchResult","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.9712750Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","ElapsedMilliseconds":533.197,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.9718748Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.9941538Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","elapsed":"3","parameters":"@p0='?' (DbType = DateTime2), @p1='?' (Size = 128), @p2='?' (Size = 64), @p3='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [IdempotencyKey] ([CreatedUtc], [ExternalKey], [PayloadHash], [ResponseBody])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:18.9968237Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["883.4393"],"@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","RequestMethod":"POST","RequestPath":"/internal/upsert/pokemons","StatusCode":207,"Elapsed":883.4393,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:34:19.0005446Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"207deb0af5675a4feabd28d0ef0d9564","@sp":"4ade0f87354116bf","ElapsedMilliseconds":900.6459,"StatusCode":207,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000009-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:36:48.8405025Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"feb689b5a0090421bb83996824b74e00","@sp":"e9b65e6fa3be4bc8","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":710,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000f-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:36:48.9060605Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"feb689b5a0090421bb83996824b74e00","@sp":"e9b65e6fa3be4bc8","elapsed":"1","parameters":"@__key_0='?' (Size = 128)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [i].[Id], [i].[CreatedUtc], [i].[ExternalKey], [i].[PayloadHash], [i].[ResponseBody]\r\nFROM [IdempotencyKey] AS [i]\r\nWHERE [i].[ExternalKey] = @__key_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:36:48.9391110Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"feb689b5a0090421bb83996824b74e00","@sp":"e9b65e6fa3be4bc8","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:36:48.9395378Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"feb689b5a0090421bb83996824b74e00","@sp":"e9b65e6fa3be4bc8","RouteData":"{action = \"UpsertPokemons\", controller = \"InternalUpsert\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertPokemons(System.Collections.Generic.List`1[PokeSync.Api.Contracts.Upsert.PokemonUpsertItemDto], PokeSync.Infrastructure.Interfaces.IPokemonUpsertService, System.Threading.CancellationToken)","Controller":"PokeSync.Api.Controllers.InternalUpsertController","AssemblyName":"PokeSync.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:36:48.9443094Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"feb689b5a0090421bb83996824b74e00","@sp":"e9b65e6fa3be4bc8","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Id], [g].[Name], [g].[Number]\r\nFROM [Generation] AS [g]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:36:48.9450277Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"feb689b5a0090421bb83996824b74e00","@sp":"e9b65e6fa3be4bc8","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [e].[Id], [e].[Name]\r\nFROM [ElementType] AS [e]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:36:49.0127025Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"feb689b5a0090421bb83996824b74e00","@sp":"e9b65e6fa3be4bc8","elapsed":"57","parameters":"@__extId_0='?' (Size = 32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p3].[Id], [p3].[ExternalId], [p3].[GenerationId], [p3].[Height], [p3].[Name], [p3].[Number], [p3].[SpriteUrl], [p3].[Weight], [p0].[PokemonId], [p0].[TypeId], [p1].[Id], [p1].[BaseValue], [p1].[PokemonId], [p1].[StatName], [p2].[Id], [p2].[Language], [p2].[PokemonId], [p2].[Text]\r\nFROM (\r\n    SELECT TOP(1) [p].[Id], [p].[ExternalId], [p].[GenerationId], [p].[Height], [p].[Name], [p].[Number], [p].[SpriteUrl], [p].[Weight]\r\n    FROM [Pokemon] AS [p]\r\n    WHERE [p].[ExternalId] = @__extId_0\r\n) AS [p3]\r\nLEFT JOIN [PokemonType] AS [p0] ON [p3].[Id] = [p0].[PokemonId]\r\nLEFT JOIN [PokemonStat] AS [p1] ON [p3].[Id] = [p1].[PokemonId]\r\nLEFT JOIN [PokemonFlavor] AS [p2] ON [p3].[Id] = [p2].[PokemonId]\r\nORDER BY [p3].[Id], [p0].[PokemonId], [p0].[TypeId], [p1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:36:49.0394849Z","@mt":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","@l":"Warning","@tr":"feb689b5a0090421bb83996824b74e00","@sp":"e9b65e6fa3be4bc8","EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:36:49.0514309Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"feb689b5a0090421bb83996824b74e00","@sp":"e9b65e6fa3be4bc8","elapsed":"12","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 8), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (Size = 32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (Size = 32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (Size = 32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (Size = 32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Size = 32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [PokemonFlavor]\r\nOUTPUT 1\r\nWHERE [Id] = @p0;\r\nDELETE FROM [PokemonStat]\r\nOUTPUT 1\r\nWHERE [Id] = @p1;\r\nDELETE FROM [PokemonStat]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;\r\nDELETE FROM [PokemonStat]\r\nOUTPUT 1\r\nWHERE [Id] = @p3;\r\nDELETE FROM [PokemonStat]\r\nOUTPUT 1\r\nWHERE [Id] = @p4;\r\nDELETE FROM [PokemonStat]\r\nOUTPUT 1\r\nWHERE [Id] = @p5;\r\nINSERT INTO [PokemonFlavor] ([Language], [PokemonId], [Text])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p6, @p7, @p8);\r\nDELETE FROM [PokemonStat]\r\nOUTPUT 1\r\nWHERE [Id] = @p9;\r\nMERGE [PokemonStat] USING (\r\nVALUES (@p10, @p11, @p12, 0),\r\n(@p13, @p14, @p15, 1),\r\n(@p16, @p17, @p18, 2),\r\n(@p19, @p20, @p21, 3),\r\n(@p22, @p23, @p24, 4),\r\n(@p25, @p26, @p27, 5)) AS i ([BaseValue], [PokemonId], [StatName], _Position) ON 1=0\r\nWHEN NOT MATCHED THEN\r\nINSERT ([BaseValue], [PokemonId], [StatName])\r\nVALUES (i.[BaseValue], i.[PokemonId], i.[StatName])\r\nOUTPUT INSERTED.[Id], i._Position;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:36:49.0566906Z","@mt":"Executing {ObjectResultType}, writing value of type '{Type}'.","@tr":"feb689b5a0090421bb83996824b74e00","@sp":"e9b65e6fa3be4bc8","ObjectResultType":"ObjectResult","Type":"PokeSync.Infrastructure.Data.Models.UpsertBatchResult","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:36:49.0577077Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"feb689b5a0090421bb83996824b74e00","@sp":"e9b65e6fa3be4bc8","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","ElapsedMilliseconds":117.9471,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:36:49.0578512Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"feb689b5a0090421bb83996824b74e00","@sp":"e9b65e6fa3be4bc8","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:36:49.0592920Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"feb689b5a0090421bb83996824b74e00","@sp":"e9b65e6fa3be4bc8","elapsed":"1","parameters":"@p0='?' (DbType = DateTime2), @p1='?' (Size = 128), @p2='?' (Size = 64), @p3='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [IdempotencyKey] ([CreatedUtc], [ExternalKey], [PayloadHash], [ResponseBody])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:36:49.0596428Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["215.1007"],"@tr":"feb689b5a0090421bb83996824b74e00","@sp":"e9b65e6fa3be4bc8","RequestMethod":"POST","RequestPath":"/internal/upsert/pokemons","StatusCode":200,"Elapsed":215.1007,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0003-fd00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:36:49.0600014Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"feb689b5a0090421bb83996824b74e00","@sp":"e9b65e6fa3be4bc8","ElapsedMilliseconds":219.5605,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000f-0003-fd00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:39:23.9145784Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":709,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:39:23.9236868Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","elapsed":"1","parameters":"@__key_0='?' (Size = 128)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [i].[Id], [i].[CreatedUtc], [i].[ExternalKey], [i].[PayloadHash], [i].[ResponseBody]\r\nFROM [IdempotencyKey] AS [i]\r\nWHERE [i].[ExternalKey] = @__key_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:39:23.9239553Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:39:23.9240662Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","RouteData":"{action = \"UpsertPokemons\", controller = \"InternalUpsert\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertPokemons(System.Collections.Generic.List`1[PokeSync.Api.Contracts.Upsert.PokemonUpsertItemDto], PokeSync.Infrastructure.Interfaces.IPokemonUpsertService, System.Threading.CancellationToken)","Controller":"PokeSync.Api.Controllers.InternalUpsertController","AssemblyName":"PokeSync.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:39:23.9282881Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Id], [g].[Name], [g].[Number]\r\nFROM [Generation] AS [g]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:39:23.9291602Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [e].[Id], [e].[Name]\r\nFROM [ElementType] AS [e]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:39:23.9310752Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","elapsed":"1","parameters":"@__extId_0='?' (Size = 32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p3].[Id], [p3].[ExternalId], [p3].[GenerationId], [p3].[Height], [p3].[Name], [p3].[Number], [p3].[SpriteUrl], [p3].[Weight], [p0].[PokemonId], [p0].[TypeId], [p1].[Id], [p1].[BaseValue], [p1].[PokemonId], [p1].[StatName], [p2].[Id], [p2].[Language], [p2].[PokemonId], [p2].[Text]\r\nFROM (\r\n    SELECT TOP(1) [p].[Id], [p].[ExternalId], [p].[GenerationId], [p].[Height], [p].[Name], [p].[Number], [p].[SpriteUrl], [p].[Weight]\r\n    FROM [Pokemon] AS [p]\r\n    WHERE [p].[ExternalId] = @__extId_0\r\n) AS [p3]\r\nLEFT JOIN [PokemonType] AS [p0] ON [p3].[Id] = [p0].[PokemonId]\r\nLEFT JOIN [PokemonStat] AS [p1] ON [p3].[Id] = [p1].[PokemonId]\r\nLEFT JOIN [PokemonFlavor] AS [p2] ON [p3].[Id] = [p2].[PokemonId]\r\nORDER BY [p3].[Id], [p0].[PokemonId], [p0].[TypeId], [p1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:39:23.9329612Z","@mt":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","@l":"Warning","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:39:23.9340371Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","elapsed":"1","parameters":"@p0='?' (Size = 32), @p1='?' (DbType = Int32), @p2='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p3='?' (Size = 100), @p4='?' (DbType = Int32), @p5='?' (Size = 512), @p6='?' (Precision = 7) (Scale = 2) (DbType = Decimal)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Pokemon] ([ExternalId], [GenerationId], [Height], [Name], [Number], [SpriteUrl], [Weight])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:39:23.9363499Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","elapsed":"1","parameters":"@p7='?' (Size = 8), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (Size = 32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (Size = 32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (Size = 32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (Size = 32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Size = 32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [PokemonFlavor] ([Language], [PokemonId], [Text])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p7, @p8, @p9);\r\nMERGE [PokemonStat] USING (\r\nVALUES (@p10, @p11, @p12, 0),\r\n(@p13, @p14, @p15, 1),\r\n(@p16, @p17, @p18, 2),\r\n(@p19, @p20, @p21, 3),\r\n(@p22, @p23, @p24, 4),\r\n(@p25, @p26, @p27, 5)) AS i ([BaseValue], [PokemonId], [StatName], _Position) ON 1=0\r\nWHEN NOT MATCHED THEN\r\nINSERT ([BaseValue], [PokemonId], [StatName])\r\nVALUES (i.[BaseValue], i.[PokemonId], i.[StatName])\r\nOUTPUT INSERTED.[Id], i._Position;\r\nINSERT INTO [PokemonType] ([PokemonId], [TypeId])\r\nVALUES (@p28, @p29),\r\n(@p30, @p31);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:39:23.9382452Z","@mt":"An error occurred using a transaction.","@l":"Error","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","EventId":{"Id":20205,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.TransactionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:41:36.3011821Z","@mt":"An error occurred using a transaction.","@l":"Error","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","EventId":{"Id":20205,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.TransactionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:41:36.3193117Z","@mt":"Executing {ObjectResultType}, writing value of type '{Type}'.","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","ObjectResultType":"ObjectResult","Type":"PokeSync.Infrastructure.Data.Models.UpsertBatchResult","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:41:36.3231083Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","ElapsedMilliseconds":132398.8654,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:41:36.3231944Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:41:36.4117630Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["132496.5395"],"@l":"Error","@x":"System.Threading.Tasks.TaskCanceledException: A task was canceled.\r\n   at PokeSync.Api.Middleware.IdempotencyMiddleware.InvokeAsync(HttpContext context, IIdempotencyService idempotencyService) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\IdempotencyMiddleware.cs:line 92\r\n   at PokeSync.Api.Middleware.IdempotencyMiddleware.InvokeAsync(HttpContext context, IIdempotencyService idempotencyService) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\IdempotencyMiddleware.cs:line 105\r\n   at PokeSync.Api.Middleware.InternalTokenMiddleware.Invoke(HttpContext context) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\InternalTokenMiddleware.cs:line 39\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","RequestMethod":"POST","RequestPath":"/internal/upsert/pokemons","StatusCode":500,"Elapsed":132496.5395,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:41:39.7004819Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"6b10bd62b24f61d0b83db0f1dcd5ee24","@sp":"bd9dedd0ae466838","ElapsedMilliseconds":135785.8931,"StatusCode":499,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000f-0001-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:43:19.5703080Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"7c52317101ac568880a919e04ad1d5ad","@sp":"0f545ae4ab7f3ca0","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":709,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000025-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:43:19.5835890Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"7c52317101ac568880a919e04ad1d5ad","@sp":"0f545ae4ab7f3ca0","elapsed":"1","parameters":"@__key_0='?' (Size = 128)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [i].[Id], [i].[CreatedUtc], [i].[ExternalKey], [i].[PayloadHash], [i].[ResponseBody]\r\nFROM [IdempotencyKey] AS [i]\r\nWHERE [i].[ExternalKey] = @__key_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000025-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:43:19.5839096Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"7c52317101ac568880a919e04ad1d5ad","@sp":"0f545ae4ab7f3ca0","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000025-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:43:19.5841086Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"7c52317101ac568880a919e04ad1d5ad","@sp":"0f545ae4ab7f3ca0","RouteData":"{action = \"UpsertPokemons\", controller = \"InternalUpsert\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertPokemons(System.Collections.Generic.List`1[PokeSync.Api.Contracts.Upsert.PokemonUpsertItemDto], PokeSync.Infrastructure.Interfaces.IPokemonUpsertService, System.Threading.CancellationToken)","Controller":"PokeSync.Api.Controllers.InternalUpsertController","AssemblyName":"PokeSync.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000025-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:43:19.5858863Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"7c52317101ac568880a919e04ad1d5ad","@sp":"0f545ae4ab7f3ca0","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Id], [g].[Name], [g].[Number]\r\nFROM [Generation] AS [g]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000025-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:43:19.5863466Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"7c52317101ac568880a919e04ad1d5ad","@sp":"0f545ae4ab7f3ca0","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [e].[Id], [e].[Name]\r\nFROM [ElementType] AS [e]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000025-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:43:31.1449596Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"7c52317101ac568880a919e04ad1d5ad","@sp":"0f545ae4ab7f3ca0","elapsed":"2","parameters":"@__extId_0='?' (Size = 32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p3].[Id], [p3].[ExternalId], [p3].[GenerationId], [p3].[Height], [p3].[Name], [p3].[Number], [p3].[SpriteUrl], [p3].[Weight], [p0].[PokemonId], [p0].[TypeId], [p1].[Id], [p1].[BaseValue], [p1].[PokemonId], [p1].[StatName], [p2].[Id], [p2].[Language], [p2].[PokemonId], [p2].[Text]\r\nFROM (\r\n    SELECT TOP(1) [p].[Id], [p].[ExternalId], [p].[GenerationId], [p].[Height], [p].[Name], [p].[Number], [p].[SpriteUrl], [p].[Weight]\r\n    FROM [Pokemon] AS [p]\r\n    WHERE [p].[ExternalId] = @__extId_0\r\n) AS [p3]\r\nLEFT JOIN [PokemonType] AS [p0] ON [p3].[Id] = [p0].[PokemonId]\r\nLEFT JOIN [PokemonStat] AS [p1] ON [p3].[Id] = [p1].[PokemonId]\r\nLEFT JOIN [PokemonFlavor] AS [p2] ON [p3].[Id] = [p2].[PokemonId]\r\nORDER BY [p3].[Id], [p0].[PokemonId], [p0].[TypeId], [p1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000025-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:44:19.2195836Z","@mt":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","@l":"Warning","@tr":"7c52317101ac568880a919e04ad1d5ad","@sp":"0f545ae4ab7f3ca0","EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000025-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:44:36.6874551Z","@mt":"An error occurred using a transaction.","@l":"Error","@tr":"7c52317101ac568880a919e04ad1d5ad","@sp":"0f545ae4ab7f3ca0","EventId":{"Id":20205,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.TransactionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000025-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:44:43.8786049Z","@mt":"Executing {ObjectResultType}, writing value of type '{Type}'.","@tr":"7c52317101ac568880a919e04ad1d5ad","@sp":"0f545ae4ab7f3ca0","ObjectResultType":"ObjectResult","Type":"PokeSync.Infrastructure.Data.Models.UpsertBatchResult","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000025-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:44:43.8802984Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"7c52317101ac568880a919e04ad1d5ad","@sp":"0f545ae4ab7f3ca0","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","ElapsedMilliseconds":84296.1011,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000025-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:44:43.8804371Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"7c52317101ac568880a919e04ad1d5ad","@sp":"0f545ae4ab7f3ca0","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000025-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:44:43.9358093Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["84365.2435"],"@l":"Error","@x":"System.Threading.Tasks.TaskCanceledException: A task was canceled.\r\n   at PokeSync.Api.Middleware.IdempotencyMiddleware.InvokeAsync(HttpContext context, IIdempotencyService idempotencyService) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\IdempotencyMiddleware.cs:line 92\r\n   at PokeSync.Api.Middleware.IdempotencyMiddleware.InvokeAsync(HttpContext context, IIdempotencyService idempotencyService) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\IdempotencyMiddleware.cs:line 105\r\n   at PokeSync.Api.Middleware.InternalTokenMiddleware.Invoke(HttpContext context) in C:\\Git\\PokeSync\\src\\PokeSync.Api\\Middlewares\\InternalTokenMiddleware.cs:line 39\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"7c52317101ac568880a919e04ad1d5ad","@sp":"0f545ae4ab7f3ca0","RequestMethod":"POST","RequestPath":"/internal/upsert/pokemons","StatusCode":500,"Elapsed":84365.2435,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000025-0000-fe00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:44:45.1281056Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"7c52317101ac568880a919e04ad1d5ad","@sp":"0f545ae4ab7f3ca0","ElapsedMilliseconds":85557.7825,"StatusCode":499,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000025-0000-fe00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:39.4180395Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":709,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:39.4252128Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","elapsed":"1","parameters":"@__key_0='?' (Size = 128)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [i].[Id], [i].[CreatedUtc], [i].[ExternalKey], [i].[PayloadHash], [i].[ResponseBody]\r\nFROM [IdempotencyKey] AS [i]\r\nWHERE [i].[ExternalKey] = @__key_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:39.4257589Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:39.4262075Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","RouteData":"{action = \"UpsertPokemons\", controller = \"InternalUpsert\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertPokemons(System.Collections.Generic.List`1[PokeSync.Api.Contracts.Upsert.PokemonUpsertItemDto], PokeSync.Infrastructure.Interfaces.IPokemonUpsertService, System.Threading.CancellationToken)","Controller":"PokeSync.Api.Controllers.InternalUpsertController","AssemblyName":"PokeSync.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:39.4286750Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Id], [g].[Name], [g].[Number]\r\nFROM [Generation] AS [g]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:39.4299355Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [e].[Id], [e].[Name]\r\nFROM [ElementType] AS [e]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:40.9379856Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","elapsed":"0","parameters":"@__extId_0='?' (Size = 32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p3].[Id], [p3].[ExternalId], [p3].[GenerationId], [p3].[Height], [p3].[Name], [p3].[Number], [p3].[SpriteUrl], [p3].[Weight], [p0].[PokemonId], [p0].[TypeId], [p1].[Id], [p1].[BaseValue], [p1].[PokemonId], [p1].[StatName], [p2].[Id], [p2].[Language], [p2].[PokemonId], [p2].[Text]\r\nFROM (\r\n    SELECT TOP(1) [p].[Id], [p].[ExternalId], [p].[GenerationId], [p].[Height], [p].[Name], [p].[Number], [p].[SpriteUrl], [p].[Weight]\r\n    FROM [Pokemon] AS [p]\r\n    WHERE [p].[ExternalId] = @__extId_0\r\n) AS [p3]\r\nLEFT JOIN [PokemonType] AS [p0] ON [p3].[Id] = [p0].[PokemonId]\r\nLEFT JOIN [PokemonStat] AS [p1] ON [p3].[Id] = [p1].[PokemonId]\r\nLEFT JOIN [PokemonFlavor] AS [p2] ON [p3].[Id] = [p2].[PokemonId]\r\nORDER BY [p3].[Id], [p0].[PokemonId], [p0].[TypeId], [p1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:40.9391301Z","@mt":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","@l":"Warning","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:40.9397099Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","elapsed":"0","parameters":"@p0='?' (Size = 32), @p1='?' (DbType = Int32), @p2='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p3='?' (Size = 100), @p4='?' (DbType = Int32), @p5='?' (Size = 512), @p6='?' (Precision = 7) (Scale = 2) (DbType = Decimal)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Pokemon] ([ExternalId], [GenerationId], [Height], [Name], [Number], [SpriteUrl], [Weight])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:40.9412811Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","elapsed":"1","parameters":"@p7='?' (Size = 8), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (Size = 32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (Size = 32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (Size = 32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (Size = 32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Size = 32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [PokemonFlavor] ([Language], [PokemonId], [Text])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p7, @p8, @p9);\r\nMERGE [PokemonStat] USING (\r\nVALUES (@p10, @p11, @p12, 0),\r\n(@p13, @p14, @p15, 1),\r\n(@p16, @p17, @p18, 2),\r\n(@p19, @p20, @p21, 3),\r\n(@p22, @p23, @p24, 4),\r\n(@p25, @p26, @p27, 5)) AS i ([BaseValue], [PokemonId], [StatName], _Position) ON 1=0\r\nWHEN NOT MATCHED THEN\r\nINSERT ([BaseValue], [PokemonId], [StatName])\r\nVALUES (i.[BaseValue], i.[PokemonId], i.[StatName])\r\nOUTPUT INSERTED.[Id], i._Position;\r\nINSERT INTO [PokemonType] ([PokemonId], [TypeId])\r\nVALUES (@p28, @p29),\r\n(@p30, @p31);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:40.9438602Z","@mt":"An error occurred using a transaction.","@l":"Error","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","EventId":{"Id":20205,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.TransactionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:41.5469657Z","@mt":"An error occurred using a transaction.","@l":"Error","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","EventId":{"Id":20205,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.TransactionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:41.5666356Z","@mt":"Executing {ObjectResultType}, writing value of type '{Type}'.","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","ObjectResultType":"ObjectResult","Type":"PokeSync.Infrastructure.Data.Models.UpsertBatchResult","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1cf71e2a-b56f-4cef-ad32-5b02914fed9c","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:41.5668407Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","ElapsedMilliseconds":2140.3842,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:41.5669000Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:41.5685838Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","elapsed":"1","parameters":"@p0='?' (DbType = DateTime2), @p1='?' (Size = 128), @p2='?' (Size = 64), @p3='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [IdempotencyKey] ([CreatedUtc], [ExternalKey], [PayloadHash], [ResponseBody])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:41.5687871Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["2150.3503"],"@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","RequestMethod":"POST","RequestPath":"/internal/upsert/pokemons","StatusCode":207,"Elapsed":2150.3503,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:45:41.5690128Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"041c9ce486eaaeb0167c02ef8c5847b2","@sp":"5ba4121073e1872a","ElapsedMilliseconds":2150.9815,"StatusCode":207,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000013-0006-fb00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:52.9507378Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"30","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:52.9966982Z","@mt":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:53.0197983Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"19","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:53.0856159Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\r\nBEGIN\r\n    CREATE TABLE [__EFMigrationsHistory] (\r\n        [MigrationId] nvarchar(150) NOT NULL,\r\n        [ProductVersion] nvarchar(32) NOT NULL,\r\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\r\n    );\r\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:53.1017605Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:53.1033842Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:53.1113010Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [MigrationId], [ProductVersion]\r\nFROM [__EFMigrationsHistory]\r\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:53.1215032Z","@mt":"No migrations were applied. The database is already up to date.","EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:53.1243593Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:53.3502706Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"d93f3c382ae8979e1e26c8e8f06fa77d","@sp":"9321f7368b6cfe07","Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000011-0003-fd00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:53.3875760Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:53.3878116Z","@mt":"Hosting environment: {EnvName}","EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:53.3878964Z","@mt":"Content root path: {ContentRoot}","ContentRoot":"C:\\Git\\PokeSync\\src\\PokeSync.Api","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:53.4604263Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["4.3142"],"@tr":"d93f3c382ae8979e1e26c8e8f06fa77d","@sp":"9321f7368b6cfe07","RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":4.3142,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"00-d93f3c382ae8979e1e26c8e8f06fa77d-9321f7368b6cfe07-00","RequestId":"40000011-0003-fd00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:53.4885993Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"d93f3c382ae8979e1e26c8e8f06fa77d","@sp":"9321f7368b6cfe07","ElapsedMilliseconds":139.5772,"StatusCode":404,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000011-0003-fd00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:53.4906397Z","@mt":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","@tr":"d93f3c382ae8979e1e26c8e8f06fa77d","@sp":"9321f7368b6cfe07","Method":"GET","Scheme":"https","Host":"localhost:44334","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000011-0003-fd00-b63f-84710c7967bb","RequestPath":"/","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:57.3006653Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"296a882a94948ba1cbb876aa1c4ab5f6","@sp":"4e5299a5bba9f987","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":709,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000b-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:57.7536538Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"296a882a94948ba1cbb876aa1c4ab5f6","@sp":"4e5299a5bba9f987","elapsed":"20","parameters":"@__key_0='?' (Size = 128)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [i].[Id], [i].[CreatedUtc], [i].[ExternalKey], [i].[PayloadHash], [i].[ResponseBody]\r\nFROM [IdempotencyKey] AS [i]\r\nWHERE [i].[ExternalKey] = @__key_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000b-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:57.8194164Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["503.1248"],"@tr":"296a882a94948ba1cbb876aa1c4ab5f6","@sp":"4e5299a5bba9f987","RequestMethod":"POST","RequestPath":"/internal/upsert/pokemons","StatusCode":409,"Elapsed":503.1248,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000b-0008-fc00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:46:57.8242361Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"296a882a94948ba1cbb876aa1c4ab5f6","@sp":"4e5299a5bba9f987","ElapsedMilliseconds":523.576,"StatusCode":409,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000b-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:17.2791488Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":709,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:17.3377228Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","elapsed":"0","parameters":"@__key_0='?' (Size = 128)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [i].[Id], [i].[CreatedUtc], [i].[ExternalKey], [i].[PayloadHash], [i].[ResponseBody]\r\nFROM [IdempotencyKey] AS [i]\r\nWHERE [i].[ExternalKey] = @__key_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:17.3405191Z","@mt":"Executing endpoint '{EndpointName}'","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:17.3628992Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","RouteData":"{action = \"UpsertPokemons\", controller = \"InternalUpsert\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertPokemons(System.Collections.Generic.List`1[PokeSync.Api.Contracts.Upsert.PokemonUpsertItemDto], PokeSync.Infrastructure.Interfaces.IPokemonUpsertService, System.Threading.CancellationToken)","Controller":"PokeSync.Api.Controllers.InternalUpsertController","AssemblyName":"PokeSync.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dfd5efa1-e68e-4d53-b0f1-87dcc57afd79","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:17.4532063Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [g].[Id], [g].[Name], [g].[Number]\r\nFROM [Generation] AS [g]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dfd5efa1-e68e-4d53-b0f1-87dcc57afd79","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:17.4621074Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [e].[Id], [e].[Name]\r\nFROM [ElementType] AS [e]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dfd5efa1-e68e-4d53-b0f1-87dcc57afd79","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:17.5488390Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"dfd5efa1-e68e-4d53-b0f1-87dcc57afd79","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:17.5825018Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","elapsed":"0","parameters":"@__extId_0='?' (Size = 32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p3].[Id], [p3].[ExternalId], [p3].[GenerationId], [p3].[Height], [p3].[Name], [p3].[Number], [p3].[SpriteUrl], [p3].[Weight], [p0].[PokemonId], [p0].[TypeId], [p1].[Id], [p1].[BaseValue], [p1].[PokemonId], [p1].[StatName], [p2].[Id], [p2].[Language], [p2].[PokemonId], [p2].[Text]\r\nFROM (\r\n    SELECT TOP(1) [p].[Id], [p].[ExternalId], [p].[GenerationId], [p].[Height], [p].[Name], [p].[Number], [p].[SpriteUrl], [p].[Weight]\r\n    FROM [Pokemon] AS [p]\r\n    WHERE [p].[ExternalId] = @__extId_0\r\n) AS [p3]\r\nLEFT JOIN [PokemonType] AS [p0] ON [p3].[Id] = [p0].[PokemonId]\r\nLEFT JOIN [PokemonStat] AS [p1] ON [p3].[Id] = [p1].[PokemonId]\r\nLEFT JOIN [PokemonFlavor] AS [p2] ON [p3].[Id] = [p2].[PokemonId]\r\nORDER BY [p3].[Id], [p0].[PokemonId], [p0].[TypeId], [p1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dfd5efa1-e68e-4d53-b0f1-87dcc57afd79","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:17.7649325Z","@mt":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","@l":"Warning","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"dfd5efa1-e68e-4d53-b0f1-87dcc57afd79","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:17.7697242Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","elapsed":"2","parameters":"@p0='?' (Size = 32), @p1='?' (DbType = Int32), @p2='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p3='?' (Size = 100), @p4='?' (DbType = Int32), @p5='?' (Size = 512), @p6='?' (Precision = 7) (Scale = 2) (DbType = Decimal)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Pokemon] ([ExternalId], [GenerationId], [Height], [Name], [Number], [SpriteUrl], [Weight])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dfd5efa1-e68e-4d53-b0f1-87dcc57afd79","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:17.7987084Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","elapsed":"1","parameters":"@p7='?' (Size = 8), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (Size = 32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (Size = 32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (Size = 32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (Size = 32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Size = 32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [PokemonFlavor] ([Language], [PokemonId], [Text])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p7, @p8, @p9);\r\nMERGE [PokemonStat] USING (\r\nVALUES (@p10, @p11, @p12, 0),\r\n(@p13, @p14, @p15, 1),\r\n(@p16, @p17, @p18, 2),\r\n(@p19, @p20, @p21, 3),\r\n(@p22, @p23, @p24, 4),\r\n(@p25, @p26, @p27, 5)) AS i ([BaseValue], [PokemonId], [StatName], _Position) ON 1=0\r\nWHEN NOT MATCHED THEN\r\nINSERT ([BaseValue], [PokemonId], [StatName])\r\nVALUES (i.[BaseValue], i.[PokemonId], i.[StatName])\r\nOUTPUT INSERTED.[Id], i._Position;\r\nINSERT INTO [PokemonType] ([PokemonId], [TypeId])\r\nVALUES (@p28, @p29),\r\n(@p30, @p31);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dfd5efa1-e68e-4d53-b0f1-87dcc57afd79","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:21.0033822Z","@mt":"Executing {ObjectResultType}, writing value of type '{Type}'.","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","ObjectResultType":"ObjectResult","Type":"PokeSync.Infrastructure.Data.Models.UpsertBatchResult","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dfd5efa1-e68e-4d53-b0f1-87dcc57afd79","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:21.0170070Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","ActionName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","ElapsedMilliseconds":3644.0513,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:21.0176050Z","@mt":"Executed endpoint '{EndpointName}'","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","EndpointName":"PokeSync.Api.Controllers.InternalUpsertController.UpsertPokemons (PokeSync.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:21.0297390Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","elapsed":"1","parameters":"@p0='?' (DbType = DateTime2), @p1='?' (Size = 128), @p2='?' (Size = 64), @p3='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [IdempotencyKey] ([CreatedUtc], [ExternalKey], [PayloadHash], [ResponseBody])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:21.0317304Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["3749.7747"],"@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","RequestMethod":"POST","RequestPath":"/internal/upsert/pokemons","StatusCode":200,"Elapsed":3749.7747,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:47:21.0326121Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"3030ea49700fa522e795f3516be7a72d","@sp":"95d721573f12c2f8","ElapsedMilliseconds":3753.5016,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000c-0008-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:54:19.4374596Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"726ded5302926aa2537a0fce9cfb9b5b","@sp":"ccab29d64dc80a9f","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":709,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000008-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:54:19.4779948Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"726ded5302926aa2537a0fce9cfb9b5b","@sp":"ccab29d64dc80a9f","elapsed":"1","parameters":"@__key_0='?' (Size = 128)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [i].[Id], [i].[CreatedUtc], [i].[ExternalKey], [i].[PayloadHash], [i].[ResponseBody]\r\nFROM [IdempotencyKey] AS [i]\r\nWHERE [i].[ExternalKey] = @__key_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000008-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:54:19.4788478Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["41.0112"],"@tr":"726ded5302926aa2537a0fce9cfb9b5b","@sp":"ccab29d64dc80a9f","RequestMethod":"POST","RequestPath":"/internal/upsert/pokemons","StatusCode":200,"Elapsed":41.0112,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000008-000a-fc00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:54:19.4791038Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"726ded5302926aa2537a0fce9cfb9b5b","@sp":"ccab29d64dc80a9f","ElapsedMilliseconds":41.6357,"StatusCode":200,"ContentType":"application/json","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000008-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:54:20.7213873Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"067598f954b5ddcb83e0d0ec5081a9c5","@sp":"cda9436a6a1540e4","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":709,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000009-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:54:20.7239212Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"067598f954b5ddcb83e0d0ec5081a9c5","@sp":"cda9436a6a1540e4","elapsed":"1","parameters":"@__key_0='?' (Size = 128)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [i].[Id], [i].[CreatedUtc], [i].[ExternalKey], [i].[PayloadHash], [i].[ResponseBody]\r\nFROM [IdempotencyKey] AS [i]\r\nWHERE [i].[ExternalKey] = @__key_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:54:20.7246052Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["2.6967"],"@tr":"067598f954b5ddcb83e0d0ec5081a9c5","@sp":"cda9436a6a1540e4","RequestMethod":"POST","RequestPath":"/internal/upsert/pokemons","StatusCode":200,"Elapsed":2.6967,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"40000009-000a-fc00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:54:20.7251076Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"067598f954b5ddcb83e0d0ec5081a9c5","@sp":"cda9436a6a1540e4","ElapsedMilliseconds":4.0831,"StatusCode":200,"ContentType":"application/json","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"40000009-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:54:42.5006496Z","@mt":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","@tr":"567871640997662ac4d272f9087de9ec","@sp":"1a7d69d4c1e12268","Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":709,"Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000a-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:54:42.5029283Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"567871640997662ac4d272f9087de9ec","@sp":"1a7d69d4c1e12268","elapsed":"1","parameters":"@__key_0='?' (Size = 128)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [i].[Id], [i].[CreatedUtc], [i].[ExternalKey], [i].[PayloadHash], [i].[ResponseBody]\r\nFROM [IdempotencyKey] AS [i]\r\nWHERE [i].[ExternalKey] = @__key_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000a-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:54:42.5059009Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["4.8170"],"@tr":"567871640997662ac4d272f9087de9ec","@sp":"1a7d69d4c1e12268","RequestMethod":"POST","RequestPath":"/internal/upsert/pokemons","StatusCode":409,"Elapsed":4.817,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"7f1e9e0f9f2f4599a2c5b6f1af3a1a0a","RequestId":"4000000a-000a-fc00-b63f-84710c7967bb","MachineName":"DRAGOKI"}
{"@t":"2025-11-12T13:54:42.5062297Z","@mt":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","@tr":"567871640997662ac4d272f9087de9ec","@sp":"1a7d69d4c1e12268","ElapsedMilliseconds":5.5634,"StatusCode":409,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:55846","PathBase":"","Path":"/internal/upsert/pokemons","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"4000000a-000a-fc00-b63f-84710c7967bb","RequestPath":"/internal/upsert/pokemons","MachineName":"DRAGOKI"}
